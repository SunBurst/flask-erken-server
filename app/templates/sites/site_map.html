{% block content %}
  
  <div class="row">
    <h2 class="site-header-name">
      <ol class="breadcrumb">
        <li class="active"><a href="/sites/site/{{ site_id }}"><i class="fa fa-globe fa-fw"></i>{{ site_name }}</a></li>
      </ol>
    </h2>
  </div>
      
  <div class="row">

    <!-- .col-lg-12 -->
    <div class="col-lg-12">
      <div class="google-map">
        <div id="site-map" class="map-full">
      </div> 
    </div>
    <!-- /.col-lg-12 -->
  </div>
  <!-- /.row -->

{% endblock %}

{% block extrajs %}
    
    <script>
    $(document).ready(function() {
        var map;
        var siteLatitude = {{ site_latitude }};
        var siteLongitude = {{ site_longitude }};
        
        function initMap() {
            var mapOptions = {
                
                zoom: 12,
                center: new google.maps.LatLng(siteLatitude, siteLongitude),

                mapTypeControl: true,
                streetViewControl: false,
                mapTypeControlOptions: {
                    mapTypeIds: ['roadmap', 'satellite', 'hybrid', 'terrain', 'styled_map'],
                    style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                    position: google.maps.ControlPosition.TOP_CENTER
                },
                fullscreenControl: true
                
            };
            
            map = new google.maps.Map(document.getElementById('site-map'), 
                mapOptions);
            
            
            var legend = document.createElement('div');
            legend.id = 'legend';
            var content = [];
            content.push('<div class="panel-body no-padding">'
                            + '<div id="map-data-menu" class="list-group">'
                                + '<a href="#" class="list-group-item">Air Temperature'
                                + '</a>'
                                + '<a href="#" class="list-group-item">Humidity'
                                + '</a>'
                                + '<a href="#" class="list-group-item">Water Temperature'
                                + '</a>'
                            + '</div>'
                        + '</div>'
            );
            legend.innerHTML = content.join('');
            legend.index = 1;
            map.controls[google.maps.ControlPosition.RIGHT_TOP].push(legend);
                
            var contentString = '<div id="content">'+
                '<div id="siteNotice">'+
                '</div>'+
                '<div id="bodyContent">'+
                '<p><b>Air Temperature:</b> 7.5</p>'
                '</div>'+
            '</div>';
            
            var infowindow = new google.maps.InfoWindow({
                content: contentString
            });
            
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(59.83909, 18.629557999999975),
                map: map,
                title: 'Air Temperature'
            });
            
            marker.addListener('click', function() {
                infowindow.open(map, marker);
            });

        }
        
        initMap();
        
    });
    </script>
{% endblock %}
