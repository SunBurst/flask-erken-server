{% block extracss %}
  <!-- Custom CSS -->
  <link rel="stylesheet" href={{ url_for('static', filename="css/views/sites/site-map-style.css") }}>
{% endblock %}

{% block content %}
  
  <div class="row">
    <h2 class="site-header-name">
      <ol class="breadcrumb">
        <li class="active"><a href="/sites/site/{{ site_id }}"><i class="fa fa-globe fa-fw"></i>{{ site_name }}</a></li>
      </ol>
    </h2>
  </div>
      
  <!-- .col-lg-9 -->
  <div class="col-lg-9">
    <div class="widget-container">
      <div class="widget">
      <div class="widget-header">
      <h4>Map</h4></div>
      <div class="widget-content no-padding">
        <div class="google-map">
          <div id="site-map" class="map-full"></div>
        </div>
      </div>
      </div>
    </div>
  </div>
  <!-- /.col-lg-9 -->
    
  <div class="col-lg-3">
    <div class="widget-container">
        <div class="widget">
            <div class="widget-header">
                <h4>Data</h4>
            </div>
            <div class="widget-content">
              <ul id="map-data-menu" class="nav">
                <li class="active"><a href="#" id="map-data-menu-parameters">Parameters</a>
                  <ul>
                    <li><a href="#getting-started" id="markdown-toc-getting-started">Getting started</a></li>
                    <li><a href="#gulpfilejs" id="markdown-toc-gulpfilejs">Gulpfile.js</a></li>
                    <li><a href="#theme-source-code" id="markdown-toc-theme-source-code">Theme source code</a></li>
                  </ul>
                </li>
                <li class="active"><a href="#" id="map-data-menu-parameters">Profiles</a>
                  <ul>
                    <li><a href="#getting-started" id="markdown-toc-getting-started">Getting started</a></li>
                    <li><a href="#gulpfilejs" id="markdown-toc-gulpfilejs">Gulpfile.js</a></li>
                    <li><a href="#theme-source-code" id="markdown-toc-theme-source-code">Theme source code</a></li>
                  </ul>
                </li>
              </ul>
            </div>
        </div>
    </div>
  </div>
    
{% endblock %}

{% block extrajs %}
    
    <script>
    $(document).ready(function() {
        var map;
        var siteLatitude = {{ site_latitude }};
        var siteLongitude = {{ site_longitude }};
        
        function initMap() {
            var mapOptions = {
                zoom: 12,
                center: new google.maps.LatLng(siteLatitude, siteLongitude),
                //mapTypeId: 'terrain'
                mapTypeControl: true,
                streetViewControl: false,
                mapTypeControlOptions: {
                    mapTypeIds: ['roadmap', 'satellite', 'hybrid', 'terrain', 'styled_map']
                },
                fullscreenControl: true
                //mapTypeControlOptions: {
                //    style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,
                //    mapTypeIds: ['roadmap', 'terrain', 'satellite']
                //  }
            };
            
            map = new google.maps.Map(document.getElementById('site-map'), 
                mapOptions);
                
            var contentString = '<div id="content">'+
                '<div id="siteNotice">'+
                '</div>'+
                '<div id="bodyContent">'+
                '<p><b>Air Temperature:</b> 7.5</p>'
                '</div>'+
            '</div>';
            
            var infowindow = new google.maps.InfoWindow({
                content: contentString
            });
            
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(59.83909, 18.629557999999975),
                map: map,
                title: 'Air Temperature'
            });
            
            marker.addListener('click', function() {
                infowindow.open(map, marker);
            });

        }
        
        initMap();
    });
    </script>
{% endblock %}
